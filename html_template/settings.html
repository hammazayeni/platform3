<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./assets/logo/taekwondo-sbeitla.png" type="image/png" sizes="50x50">
    <title>Settings - Taekwondo Sbeitla</title>
    <link rel="stylesheet" href="./style.css">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg"><defs><symbol id="icon-dashboard" viewBox="0 0 24 24"><path d="M3 13H11V3H3M3 21H11V15H3M13 21H21V11H13M13 3V9H21V3" fill="currentColor"/></symbol><symbol id="icon-users" viewBox="0 0 24 24"><path d="M16 17V19H2V17S2 13 9 13 16 17 16 17M12.5 7.5A3.5 3.5 0 1 0 9 11A3.5 3.5 0 0 0 12.5 7.5M15.94 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13M15 4A3.39 3.39 0 0 0 13.07 4.59A5 5 0 0 1 13.07 10.41A3.39 3.39 0 0 0 15 11A3.5 3.5 0 0 0 15 4Z" fill="currentColor"/></symbol><symbol id="icon-family" viewBox="0 0 24 24"><path d="M16 4C16 2.9 16.9 2 18 2S20 2.9 20 4 19.1 6 18 6 16 5.1 16 4M6 4C6 2.9 6.9 2 8 2S10 2.9 10 4 9.1 6 8 6 6 5.1 6 4M12 8C11.4 8 11 8.4 11 9V11H9V9C9 8.4 8.6 8 8 8S7 8.4 7 9V15H9V22H11V15H13V22H15V15H17V9C17 8.4 16.6 8 16 8S15 8.4 15 9V11H13V9C13 8.4 12.6 8 12 8M4 9V15H6V22H8V9H4M16 9V22H18V15H20V9H16Z" fill="currentColor"/></symbol><symbol id="icon-register" viewBox="0 0 24 24"><path d="M19 3H14.82C14.4 1.84 13.3 1 12 1S9.6 1.84 9.18 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M12 3C12.55 3 13 3.45 13 4S12.55 5 12 5 11 4.55 11 4 11.45 3 12 3M7 7H17V9H7V7M7 11H17V13H7V11M7 15H14V17H7V15Z" fill="currentColor"/></symbol><symbol id="icon-message" viewBox="0 0 24 24"><path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2M20 16H6L4 18V4H20V16M7 9H17V11H7V9M7 6H17V8H7V6M7 12H14V14H7V12Z" fill="currentColor"/></symbol><symbol id="icon-check" viewBox="0 0 24 24"><path d="M21 7L9 19L3.5 13.5L4.91 12.09L9 16.17L19.59 5.59L21 7Z" fill="currentColor"/></symbol><symbol id="icon-calendar" viewBox="0 0 24 24"><path d="M19 4H18V2H16V4H8V2H6V4H5C3.89 4 3 4.9 3 6V20C3 21.1 3.89 22 5 22H19C20.1 22 21 21.1 21 20V6C21 4.9 20.1 4 19 4M19 20H5V10H19V20M19 8H5V6H19V8M7 12H12V17H7V12Z" fill="currentColor"/></symbol><symbol id="icon-settings" viewBox="0 0 24 24"><path d="M12 15.5C10.07 15.5 8.5 13.93 8.5 12S10.07 8.5 12 8.5 15.5 10.07 15.5 12 13.93 15.5 12 15.5M19.43 12.97C19.47 12.65 19.5 12.33 19.5 12S19.47 11.35 19.43 11.03L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.96 19.05 5.05L16.56 6.05C16.04 5.66 15.5 5.32 14.87 5.07L14.5 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.5 2.42L9.13 5.07C8.5 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.73 4.96 4.46 5.05 4.34 5.27L2.34 8.73C2.21 8.95 2.27 9.22 2.46 9.37L4.57 11.03C4.53 11.35 4.5 11.67 4.5 12S4.53 12.65 4.57 12.97L2.46 14.63C2.27 14.78 2.21 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.94C7.96 18.34 8.5 18.68 9.13 18.93L9.5 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.5 21.58L14.87 18.93C15.5 18.67 16.04 18.34 16.56 17.94L19.05 18.95C19.27 19.03 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.97Z" fill="currentColor"/></symbol><symbol id="icon-logout" viewBox="0 0 24 24"><path d="M16 17V14H9V10H16V7L21 12L16 17M14 2C15.1 2 16 2.9 16 4V6H14V4H5V20H14V18H16V20C16 21.1 15.1 22 14 22H5C3.9 22 3 21.1 3 20V4C3 2.9 3.9 2 5 2H14Z" fill="currentColor"/></symbol></defs></svg>
</head>

<body>
    <div class="dashboard-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo bounce-animation"><img class="logo-img" src="./assets/logo/taekwondo-sbeitla.png" alt="Taekwondo Sbeitla" /></div>
                <h2>Taekwondo Sbeitla</h2>
            </div>
            
            <nav class="sidebar-nav">
                <a href="admin-dashboard.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-dashboard"/></svg></span>
                    <span>Dashboard</span>
                </a>
                <a href="user-management.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-users"/></svg></span>
                    <span>User Management</span>
                </a>
                <a href="student-management.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-users"/></svg></span>
                    <span>Students</span>
                </a>
                <a href="parent-management.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-family"/></svg></span>
                    <span>Parents</span>
                </a>
                <a href="pending-registrations.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-register"/></svg></span>
                    <span>Registrations</span>
                    <span class="message-badge" id="pendingBadge"></span>
                </a>
                <a href="messages.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-message"/></svg></span>
                    <span>Messages</span>
                    <span class="message-badge" id="sidebarMessageBadge"></span>
                </a>
                <a href="attendance.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-check"/></svg></span>
                    <span>Attendance</span>
                </a>
                <a href="class-schedule.html" class="nav-item">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-calendar"/></svg></span>
                    <span>Schedule</span>
                </a>
                <a href="settings.html" class="nav-item active">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-settings"/></svg></span>
                    <span>Settings</span>
                </a>
                <a href="index.html" class="nav-item logout">
                    <span class="icon"><svg width="20" height="20"><use href="#icon-logout"/></svg></span>
                    <span>Logout</span>
                </a>
            </nav>
        </aside>
        
        <main class="main-content">
            <header class="page-header">
                <h1>‚öôÔ∏è System Settings</h1>
            </header>
            
            <!-- User Management Section -->
            <div class="card">
                <div class="card-header">
                    <h2>üë• User Management</h2>
                    <button class="btn btn-primary" id="addUserBtn">‚ûï Add New User</button>
                </div>
                <div class="card-body">
                    <div class="settings-section">
                        <h3>Quick User Statistics</h3>
                        <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
                            <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px;">
                                <h4 style="margin: 0 0 10px 0; font-size: 14px; opacity: 0.9;">Total Admins</h4>
                                <p style="margin: 0; font-size: 32px; font-weight: bold;" id="totalAdmins">0</p>
                            </div>
                            <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 12px;">
                                <h4 style="margin: 0 0 10px 0; font-size: 14px; opacity: 0.9;">Total Students</h4>
                                <p style="margin: 0; font-size: 32px; font-weight: bold;" id="totalStudentsSettings">0</p>
                            </div>
                            <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 20px; border-radius: 12px;">
                                <h4 style="margin: 0 0 10px 0; font-size: 14px; opacity: 0.9;">Total Parents</h4>
                                <p style="margin: 0; font-size: 32px; font-weight: bold;" id="totalParentsSettings">0</p>
                            </div>
                            <div class="stat-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; padding: 20px; border-radius: 12px;">
                                <h4 style="margin: 0 0 10px 0; font-size: 14px; opacity: 0.9;">Total Users</h4>
                                <p style="margin: 0; font-size: 32px; font-weight: bold;" id="totalUsers">0</p>
                            </div>
                        </div>
                        
                        <div class="filter-tabs" style="display: flex; gap: 10px; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid var(--border-color);">
                            <button class="filter-tab active" data-filter="all">All Users</button>
                            <button class="filter-tab" data-filter="admin">Admins</button>
                            <button class="filter-tab" data-filter="student">Students</button>
                            <button class="filter-tab" data-filter="parent">Parents</button>
                        </div>
                        
                        <div class="search-box" style="margin-bottom: 20px;">
                            <input type="text" id="searchUserSettings" placeholder="Search users by name, email, username, or role...">
                        </div>
                        
                        <div style="overflow-x: auto;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Role</th>
                                        <th>Email/Username</th>
                                        <th>Phone</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="userListSettings">
                                    <!-- Populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Academy Settings Section -->
            <div class="card">
                <div class="card-header">
                    <h2>üè´ Academy Settings</h2>
                </div>
                <div class="card-body">
                    <div class="settings-section">
                        <h3>Academy Information</h3>
                        <form id="academySettingsForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="academyName">Academy Name</label>
                                    <input type="text" id="academyName" value="Taekwondo Sbeitla">
                                </div>
                                
                                <div class="form-group">
                                    <label for="academyEmail">Contact Email</label>
                                    <input type="email" id="academyEmail" value="info@tkdacademy.com">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="academyPhone">Contact Phone</label>
                                    <input type="tel" id="academyPhone" value="+1 (555) 123-4567">
                                </div>
                                
                                <div class="form-group">
                                    <label for="academyAddress">Address</label>
                                    <input type="text" id="academyAddress" value="123 Martial Arts Way, City, State 12345">
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">üíæ Save Academy Settings</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- System Preferences -->
            <div class="card">
                <div class="card-header">
                    <h2>üé® System Preferences</h2>
                </div>
                <div class="card-body">
                    <div class="settings-section">
                        <h3>Display Settings</h3>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="enableNotifications" checked>
                                Enable Desktop Notifications
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="enableAutoRefresh" checked>
                                Auto-refresh Dashboard Data
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label for="refreshInterval">Refresh Interval (seconds)</label>
                            <input type="number" id="refreshInterval" value="30" min="10" max="300">
                        </div>
                        
                        <button class="btn btn-primary" id="savePreferences">üíæ Save Preferences</button>
                    </div>
                </div>
            </div>
            
            <!-- Data Management -->
            <div class="card">
                <div class="card-header">
                    <h2>üíæ Data Management</h2>
                </div>
                <div class="card-body">
                    <div class="settings-section">
                        <h3>Backup & Reset</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 20px;">
                            Manage your system data. Export data for backup or reset the system to default state.
                        </p>
                        
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="btn btn-secondary" id="exportData">üì• Export All Data</button>
                            <button class="btn btn-secondary" id="importData">üì§ Import Data</button>
                            <button class="btn btn-danger" id="resetSystem">üîÑ Reset System</button>
                        </div>
                        
                        <input type="file" id="importFileInput" accept=".json" style="display: none;">
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Add/Edit User Modal -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Add New User</h2>
                <span class="close" id="closeModal">&times;</span>
            </div>
            <form id="userForm">
                <div class="modal-body">
                    <!-- Profile Photo Upload -->
                    <div class="profile-photo-upload">
                        <div class="profile-photo-preview" id="photoPreview">
                            üë§
                        </div>
                        <button type="button" class="upload-photo-btn" id="uploadPhotoBtn">
                            üì∑ Upload Profile Photo
                        </button>
                        <input type="file" id="profilePhotoInput" accept="image/png, image/jpeg, image/jpg" style="display: none;">
                        <p style="font-size: 12px; color: var(--text-secondary); margin: 0;">
                            Optional: Add a profile photo (PNG, JPG)
                        </p>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userRole">User Role *</label>
                            <select id="userRole" required>
                                <option value="">Select Role</option>
                                <option value="admin">Admin</option>
                                <option value="student">Student</option>
                                <option value="parent">Parent</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="userName">Full Name *</label>
                            <input type="text" id="userName" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userEmail">Email *</label>
                            <input type="email" id="userEmail" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="userUsername">Username *</label>
                            <input type="text" id="userUsername" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userPassword">Password *</label>
                            <input type="password" id="userPassword" required minlength="6">
                            <small style="color: var(--text-secondary);">Minimum 6 characters</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="userPhone">Phone *</label>
                            <input type="tel" id="userPhone" required>
                        </div>
                    </div>
                    
                    <!-- Student-specific fields -->
                    <div id="studentFields" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="userAge">Age</label>
                                <input type="number" id="userAge" min="5" max="100">
                            </div>
                            
                            <div class="form-group">
                                <label for="userBelt">Belt Rank</label>
                                <select id="userBelt">
                                    <option value="White">White Belt</option>
                                    <option value="Yellow">Yellow Belt</option>
                                    <option value="Green">Green Belt</option>
                                    <option value="Blue">Blue Belt</option>
                                    <option value="Red">Red Belt</option>
                                    <option value="Black">Black Belt</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="userClass">Class</label>
                            <select id="userClass">
                                <option value="Beginner">Beginner Class</option>
                                <option value="Intermediate">Intermediate Class</option>
                                <option value="Advanced">Advanced Class</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                    <button type="submit" class="btn btn-primary">üíæ Save User</button>
                </div>
            </form>
        </div>
    </div>
    
    <script type="module" src="./script.js"></script>
    <script type="module" src="./online-status.js"></script>
    <script src="settings.js"></script>
    
    <style>
        .profile-photo-upload {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
            border-radius: 8px;
            border: 2px dashed var(--border-color);
            margin-bottom: 15px;
        }

        .profile-photo-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            overflow: hidden;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .profile-photo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .upload-photo-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .upload-photo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        .filter-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .filter-tab {
            padding: 10px 20px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .filter-tab:hover {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: var(--text-primary);
        }
        
        .filter-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .settings-section {
            padding: 20px 0;
        }
        
        .settings-section h3 {
            margin-bottom: 20px;
            color: var(--text-primary);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
    </style>
</body>

    

</html>
